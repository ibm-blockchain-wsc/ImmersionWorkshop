
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../images/ibm_blockchain_platform.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.0">
    
    
      
        <title>Vscode part1 - Blockchain Immersion Workshop</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bc7e593a.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab28b872.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="preference" data-md-color-primary="" data-md-color-accent="">
      
        <script>matchMedia("(prefers-color-scheme: dark)").matches&&document.body.setAttribute("data-md-color-scheme","slate")</script>
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#section-1-overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Blockchain Immersion Workshop" class="md-header-nav__button md-logo" aria-label="Blockchain Immersion Workshop">
      
  <img src="../images/ibm_blockchain_platform.ico" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Blockchain Immersion Workshop
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Vscode part1
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/ibm-blockchain-wsc/ImmersionWorkshop.git" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Blockchain Immersion Workshop" class="md-nav__button md-logo" aria-label="Blockchain Immersion Workshop">
      
  <img src="../images/ibm_blockchain_platform.ico" alt="logo">

    </a>
    Blockchain Immersion Workshop
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/ibm-blockchain-wsc/ImmersionWorkshop.git" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Choose your own lab
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Choose your own lab" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Choose your own lab
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lab-intro/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../assignment/" class="md-nav__link">
      Skytap image assignments
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Build your first network on Linux on IBM Z Lab
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Build your first network on Linux on IBM Z Lab" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Build your first network on Linux on IBM Z Lab
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../console-urls/" class="md-nav__link">
      IBM Blockchain Platform Console URL assignments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ibpconsole/" class="md-nav__link">
      Part 1 - Create a Blockchain Network
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ibpdeploy/" class="md-nav__link">
      Part 2 - Deploy a Smart Contract
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../references/" class="md-nav__link">
      Additional Resources
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="section-1-overview">Section 1: Overview<a class="headerlink" href="#section-1-overview" title="Permanent link">&para;</a></h1>
<p>In this part of the lab, we will guide you through the steps for
generating, installing and instantiating a smart contract and then
testing that smart contract to verify that it works. Before all of that,
we will have you start up the local Hyperledger Fabric network so that
we can build our smart contract on top of it. In this lab, we have you
deploy to a local network that is running on your laptop, but you can
also connect the IBM Blockchain Platform VSCode Extension to either your
IBM Blockchain Platform network running in the IBM Cloud or your IBM
Blockchain Platform network running on your own premises. Below is a
breakdown of Part 1 of our lab:</p>
<ul>
<li>
<p>Start up a Blockchain Network
    :      We must make sure that all levels of software (docker, node,
            npm, docker-compose and yo) are at the correct level before
            we start building our smart contract. Then, we will install
            the IBM Blockchain Platform Extension that will allow us to
            create and develop our smart contract. Once we have done
            that, we will then start up the Hyperledger Fabric network,
            which will consist of a certificate authority (CA), Solo
            orderer (meant for dev/test), couchdb (world state
            database), ccenv (chaincode environment), and most
            importantly our peer.</p>
</li>
<li>
<p>Create our Smart Contract
    :      Now that we have a running Hyperledger Fabric blockchain
            network, we will create our smart contract. The smart
            contract will be very basic in nature, but we will explain
            what the contract is trying to accomplish before we go
            through some of the unique features that the extension can
            do for us and our smart contract.</p>
</li>
<li>
<p>Package, Install and Instantiate our Smart Contract
    :      Since we have an understanding of how our smart contract
            works, we will need to install (peer level command) it on
            our peer and then instantiate (channel level command) the
            installed smart contract on the channel. Once we have
            instantiated the smart contract, we will be able to submit
            transactions.</p>
</li>
<li>
<p>Submit Transactions
    :      What fun is it to have a working smart contract and have it
            instantiated across the channel, if we can't submit
            transactions? In this section, we will actually submit
            transactions from the UI of VSCode. We will see data get
            committed to the ledger.</p>
</li>
<li>
<p>Tests
    :      Once we have an instantiated smart contract on our channel,
            we will then test out the code to make sure that the
            contract will actually work when we submit transactions.
            This checks all the files within our smart contract and
            simulates all of our transactions. We will know we are
            cooking with gas when our test comes back successful. We
            will then generate a test file that will test our smart
            contract, while submitting transactions to the ledger. We
            will view the docker logs of our running smart contract and
            see the transactions being added to the logs as well as the
            ledger.</p>
</li>
</ul>
<h1 id="section-2-start-up-a-blockchain-network">Section 2: Start Up a Blockchain Network<a class="headerlink" href="#section-2-start-up-a-blockchain-network" title="Permanent link">&para;</a></h1>
<p><strong>NOTE:</strong> For Part 1 of our lab, we will be using the terminal within
VSCode. Do <strong>not</strong> execute the commands within the actual terminal
application. You can enter them from the terminal application, but the
instructions below will all be within the VSCode terminal. In Part 2 of
this lab, you will use the terminal application.</p>
<p><strong>1.</strong> Open up your terminal and type in the following commands below :</p>
<div class="codehilite"><pre><span></span><code><span class="err">tecadmin@ubuntubase:~$ node -v # We want Node to be v8.x or higher</span>
<span class="err">v8.11.3</span>
<span class="err">tecadmin@ubuntubase:~$ npm -v # We want NPM to be v5.x or higher</span>
<span class="err">5.6.0</span>
<span class="err">tecadmin@ubuntubase:~$ yo --version # We want yo to be v2.x or higher</span>
<span class="err">2.0.5</span>
<span class="err">tecadmin@ubuntubase:~$ docker --version # We want Docker to be v17.06.2-ce or higher</span>
<span class="err">Docker version 17.06.2-ce, build cec0b72</span>
<span class="err">tecadmin@ubuntubase:~$ docker-compose --version # We want Docker Compose to be v1.14.0 or higher</span>
<span class="err">docker-compose version 1.14.0, build c7bdf9e</span>
<span class="err">tecadmin@ubuntubase:~$</span>
</code></pre></div>

<p>If you get a version that doesn't support our qualifications, raise your
hand and tell the instructor.</p>
<p><strong>2.</strong> From the Ubuntu Desktop, click on Visual Studio Code. The Visual
Studio Code icon is on the right above the <code>Cisco Anyconnect</code> icon on
the toolbar on the left.</p>
<p><strong>3.</strong> Once you are in the Visual Studio Code application, you should
see an outline of a block just below the extensions button
(approximately the 6<sup>th</sup> button in VSCode). Go ahead and click on that
button. Once you do, you'll see a similar screen as the image below</p>
<p><img alt="image" src="../vscode-images/1.png" /></p>
<p><strong>4.</strong> Hover your mouse over the <code>Local Fabric Ops</code> panel and we'll see
three dots - <code>...</code> - and click on those dots. We'll be presented with
two options. <code>Start Fabric Runtime</code> and <code>Teardown Fabric Runtime</code> are
those two options. We will want to click on <code>Start Fabric Runtime</code> in
this case.</p>
<p>This will start our local Hyperledger Fabric network. It will stand up a
peer, certificate authority, orderer and a couchdb container. In
addition to standing up these containers, it will join our peer to a
channel called mychannel.</p>
<p>The difference between <code>Start Fabric Runtime</code> and
<code>Teardown Fabric Runtime</code> might be obvious, but <code>Start Fabric Runtime</code>
grabs all of the Hyperledger Fabric images and starts them as
containers. In addition, it builds the crypto material (certificates,
public and private keys) and creates and joins a sample channel called
<code>mychannel</code>. The other option, <code>Teardown Fabric Runtime</code> basically
cleans up the network and removes all of the containers that
<code>Start Fabric Runtime</code> builds. It does not remove the Hyperledger Fabric
images that the <code>Start Fabric Runtime</code> pulls down into your local docker
registry. To do a full cleanup, we will need to manually remove those
images.</p>
<p><strong>5.</strong> How do we know if we have a successful blockchain network up and
running? I'm glad you asked! We will see messages flooding the <code>Output</code>
panel. We will want to see a message that resembles the one below :</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">2/20/2019 7:26:54 PM</span><span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">2019</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">21</span><span class="w"> </span><span class="mi">00</span><span class="err">:</span><span class="mi">26</span><span class="err">:</span><span class="mf">34.756</span><span class="w"> </span><span class="n">UTC</span><span class="w"> </span><span class="o">[</span><span class="n">cli.common</span><span class="o">]</span><span class="w"> </span><span class="n">readBlock</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="mi">002</span><span class="w"> </span><span class="n">Received</span><span class="w"> </span><span class="nl">block</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="o">[</span><span class="n">2/20/2019 7:26:54 PM</span><span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">2019</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">21</span><span class="w"> </span><span class="mi">00</span><span class="err">:</span><span class="mi">26</span><span class="err">:</span><span class="mf">34.930</span><span class="w"> </span><span class="n">UTC</span><span class="w"> </span><span class="o">[</span><span class="n">channelCmd</span><span class="o">]</span><span class="w"> </span><span class="n">InitCmdFactory</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="mi">001</span><span class="w"> </span><span class="n">Endorser</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">orderer</span><span class="w"> </span><span class="n">connections</span><span class="w"> </span><span class="n">initialized</span><span class="w"></span>
<span class="o">[</span><span class="n">2/20/2019 7:26:55 PM</span><span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="mi">2019</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">21</span><span class="w"> </span><span class="mi">00</span><span class="err">:</span><span class="mi">26</span><span class="err">:</span><span class="mf">35.458</span><span class="w"> </span><span class="n">UTC</span><span class="w"> </span><span class="o">[</span><span class="n">channelCmd</span><span class="o">]</span><span class="w"> </span><span class="n">executeJoin</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="mi">002</span><span class="w"> </span><span class="n">Successfully</span><span class="w"> </span><span class="n">submitted</span><span class="w"> </span><span class="n">proposal</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="n">channel</span><span class="w"></span>
</code></pre></div>

<p><strong>6.</strong> We can verify that everything is up and working by entering the
<code>docker ps -a</code> command that will print out all of our
containers.</p>
<h2 id="section-3-create-our-smart-contract">Section 3: Create our Smart Contract<a class="headerlink" href="#section-3-create-our-smart-contract" title="Permanent link">&para;</a></h2>
<p>Now that we have a local running Hyperledger Fabric network, let's
create our Smart Contract that we will then install and instantiate onto
our network.</p>
<p><strong>1.</strong> We can do that by clicking on the gear icon in the bottom left
and then clicking on <code>Command Palette..</code> This will give us the option to
do a series of commands, some that are VSCode-related and some that are
IBM Blockchain Platform-related.</p>
<p><strong>2.</strong> You will notice a series of commands pop up. Go ahead and enter
this command below into the search bar :</p>
<div class="codehilite"><pre><span></span><code><span class="err">&gt;IBM Blockchain Platform: Create Smart Contract Project</span>
</code></pre></div>

<p><img alt="image" src="../vscode-images/1-2-6.png" /></p>
<p>This command will generate a skeleton smart contract for us. We will
walk through all that it generates in a second.</p>
<p><strong>3.</strong> We might get a message that says the text below. If we don't,
proceed onto the next step. :</p>
<div class="codehilite"><pre><span></span><code><span class="err">Can this extension install missing npm packages before proceeding?</span>
</code></pre></div>

<p>Select <code>yes</code> if that message comes up. What it is installing is
<code>generator-fabric</code> which is actually the generator that creates our
skeleton smart contract.</p>
<p><strong>4.</strong> We'll then get a message that says :</p>
<div class="codehilite"><pre><span></span><code><span class="err">Chose smart contract language (esc to cancel)</span>
</code></pre></div>

<p>Choose <code>JavaScript</code> as our smart contract language of choice</p>
<p><strong>5.</strong> The next prompt will ask you
<code>Name the type of asset managed by this smart contract</code>. You can put
whatever you would like to name your asset. For the sake of this lab
experience, I will name my asset <code>kale</code>.</p>
<p><strong>6.</strong> Then it will, simply, say <code>Browse</code>. That implies that it is
looking for a folder to store the simple smart contract. Click on
<code>Browse</code> and then go to your <code>Desktop</code> and click on the blank folder on
the far right. There create and name a new folder and click on <code>Create</code>.
Then hit on <code>Save</code>.</p>
<p><img alt="image" src="../vscode-images/1-2-6.png" /></p>
<p><strong>7.</strong> Then it will ask <code>Choose how to open your new project</code> and just
click on <code>Add to workplace</code>.</p>
<p><strong>8.</strong> If you click on the <code>Explorer</code> icon in the top left of VSCode,
you'll see the Kale folder in there with a lot more files</p>
<p><img alt="image" src="../vscode-images/1-2-8.png" /></p>
<p><strong>9.</strong> Go ahead and untoggle the <code>Kale</code> folder and then untoggle the
<code>lib</code> folder, in which you'll find the <code>kale-contract.js</code> file. Go ahead
and click on that to open it up. Below is a breakdown of this simple
smart contract:</p>
<p>The line of code below will bring into scope a key Hyperledger
Fabric class that will be used extensively by the smart contract --
Contract :</p>
<div class="codehilite"><pre><span></span><code><span class="k">const</span> <span class="p">{</span> <span class="n">Contract</span> <span class="p">}</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="s1">&#39;fabric-contract-api&#39;</span><span class="p">);</span>
</code></pre></div>

<p>Below, we define the smart contract class KaleContract based on the
built-in Fabric Contract class. The methods which implement the key
transactions are defined within this class :</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="n">KaleContract</span> <span class="k">extends</span> <span class="n">Contract</span> <span class="p">{</span>
</code></pre></div>

<p>Below, the function is called createKale and it takes kaleId and a
value, both of which are strings. When this transaction is submitted, a
new asset will be created, with key kaleId and value value. For example
if we were to create "001", "A bunch of kale", then when we later read
the value of key 001, we'll learn the value of that particular state is
"A bunch of kale" :</p>
<div class="codehilite"><pre><span></span><code><span class="n">async</span> <span class="n">createKale</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">kaleId</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">const</span> <span class="n">exists</span> <span class="o">=</span> <span class="n">await</span> <span class="n">this</span><span class="o">.</span><span class="n">kaleExists</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">kaleId</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">exists</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">throw</span> <span class="n">new</span> <span class="n">Error</span><span class="p">(</span><span class="err">`</span><span class="n">The</span> <span class="n">kale</span> <span class="o">$</span><span class="p">{</span><span class="n">kaleId</span><span class="p">}</span> <span class="n">already</span> <span class="n">exists</span><span class="err">`</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">const</span> <span class="n">asset</span> <span class="o">=</span> <span class="p">{</span> <span class="n">value</span> <span class="p">};</span>
    <span class="k">const</span> <span class="n">buffer</span> <span class="o">=</span> <span class="n">Buffer</span><span class="o">.</span><span class="n">from</span><span class="p">(</span><span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="p">(</span><span class="n">asset</span><span class="p">));</span>
    <span class="n">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">stub</span><span class="o">.</span><span class="n">putState</span><span class="p">(</span><span class="n">kaleId</span><span class="p">,</span> <span class="n">buffer</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>You'll often hear such transactions, like below, referred to as
"queries". As you can see, this function only takes kaleId, and will
return the value of whatever state that key points to. :</p>
<div class="codehilite"><pre><span></span><code><span class="n">async</span> <span class="n">readKale</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">kaleId</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">const</span> <span class="n">exists</span> <span class="o">=</span> <span class="n">await</span> <span class="n">this</span><span class="o">.</span><span class="n">kaleExists</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">kaleId</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">exists</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">throw</span> <span class="n">new</span> <span class="n">Error</span><span class="p">(</span><span class="err">`</span><span class="n">The</span> <span class="n">kale</span> <span class="o">$</span><span class="p">{</span><span class="n">kaleId</span><span class="p">}</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">exist</span><span class="err">`</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">const</span> <span class="n">buffer</span> <span class="o">=</span> <span class="n">await</span> <span class="n">ctx</span><span class="o">.</span><span class="n">stub</span><span class="o">.</span><span class="n">getState</span><span class="p">(</span><span class="n">kaleId</span><span class="p">);</span>
    <span class="k">const</span> <span class="n">asset</span> <span class="o">=</span> <span class="n">JSON</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">buffer</span><span class="o">.</span><span class="n">toString</span><span class="p">());</span>
    <span class="k">return</span> <span class="n">asset</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>Take a look at the other transactions in the contract at your leisure,
then when you're happy, let's move on to packaging and deploying that
contract so that we can start using it...</p>
<h1 id="section-4-package-install-and-instantiate-our-smart-contract">Section 4: Package, Install and Instantiate our Smart Contract<a class="headerlink" href="#section-4-package-install-and-instantiate-our-smart-contract" title="Permanent link">&para;</a></h1>
<p><strong>1.</strong> Jump back down to the IBM Blockchain Platform section (the
outline of a block icon). From there, click on the gear button in the
bottom left and click on <code>Command Palette...</code>. Once it gives you a
prompt in the top, enter the text that is below :</p>
<div class="codehilite"><pre><span></span><code><span class="err">&gt;IBM Blockchain Platform: Package a Smart Contract Project</span>
</code></pre></div>

<p><img alt="image" src="../vscode-images/1-3-2.png" /></p>
<p><strong>2.</strong> Then it will bring in the <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#75;&#97;&#108;&#101;&#64;&#48;&#46;&#48;&#46;&#49;">&#75;&#97;&#108;&#101;&#64;&#48;&#46;&#48;&#46;&#49;</a> package into our
<code>Smart Contract Packages</code> section. If you had multiple folders open in
your <code>Editior</code> perspective, it would ask you for which folder to
package, but since there is only 1 it will grab the <code>Kale</code> folder.</p>
<p><strong>3.</strong> Now, within the <code>Local Fabric Ops</code> section, you can untoggle
<code>Smart Contracts</code> and then click on <code>+Install</code>.</p>
<p><strong>4.</strong> It will ask you <code>Choose which package to install on the peer</code> and
select <code>Kale@0.0.1</code>. Then it will go ahead and install it for you on
your peer.</p>
<p><strong>5.</strong> Now that we have an installed smart contract, we need to
instantiate it. You can do that by, you might have guessed, clicking on
the <code>+Instantiate</code> button. Then it will ask you
<code>Choose a Smart Contract and Version to instantiate</code> and you can select
<code>Kale@0.0.1</code>. It will pop up another prompt asking you which function
you want to call. You can just hit the <code>Enter</code> key and bypass this
prompt. Then it will ask if you want to
<code>Provide a Private Data collection configuration file</code> and you can
select <code>No</code>. Then it will instantiate our <code>Kale</code> smart contract to our
channel, called <code>mychannel</code>.</p>
<h1 id="section-5-submit-transactions">Section 5: Submit Transactions<a class="headerlink" href="#section-5-submit-transactions" title="Permanent link">&para;</a></h1>
<p><strong>1.</strong> From the IBM Blockchain Platform Extension, you can click on the
<code>local_fabric</code> gateway. It will then use the <code>admin</code> ID. It will display
all of your channels that this gateway can see, in this case it is only
<code>mychannel</code>. If you untoggle <code>mychannel</code> you will see <code>Kale@0.0.1</code> as an
instantiated smart contract on the channel. If you had multiple smart
contracts on here, you would see those as well. Now, if you untoggle
<code>Kale@0.0.1</code> you will see the various transactions you can execute.</p>
<p><strong>2.</strong> From this perspective, you can right click on <code>createKale</code> and
then click on <code>Submit Transaction</code>. Then it will prompt you for the
arguments you want to pass in. You can enter the text below. It will
give you another prompt for transient data, but you can hit enter to
bypass this prompt and it will then execute the transaction. <strong>NOTE:</strong>
Put your arguments between the brackets:</p>
<div class="codehilite"><pre><span></span><code><span class="err">&quot;001&quot;, &quot;a bunch of kale&quot;</span>
</code></pre></div>

<p>See what I did there? Anyways..</p>
<p><strong>3.</strong> Now we can confirm that the transaction actually occured. There
are a couple of ways we could do this. The first way we can test this
out is by entering the following text below in our VSCode terminal:</p>
<div class="codehilite"><pre><span></span><code><span class="n">docker</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="n">fabricvscodelocalfabric_peer0</span><span class="p">.</span><span class="n">org1</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">grep</span><span class="w"> </span><span class="n">block</span><span class="w"></span>
<span class="o">*</span><span class="w"></span>
<span class="o">*</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">11</span><span class="w"> </span><span class="mi">14</span><span class="err">:</span><span class="mi">36</span><span class="err">:</span><span class="mf">33.321</span><span class="w"> </span><span class="n">UTC</span><span class="w"> </span><span class="o">[</span><span class="n">gossip.privdata</span><span class="o">]</span><span class="w"> </span><span class="n">StoreBlock</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="mi">0</span><span class="n">a1</span><span class="w"> </span><span class="o">[</span><span class="n">mychannel</span><span class="o">]</span><span class="w"> </span><span class="n">Received</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="o">[</span><span class="n">3</span><span class="o">]</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">buffer</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">11</span><span class="w"> </span><span class="mi">14</span><span class="err">:</span><span class="mi">36</span><span class="err">:</span><span class="mf">33.322</span><span class="w"> </span><span class="n">UTC</span><span class="w"> </span><span class="o">[</span><span class="n">committer.txvalidator</span><span class="o">]</span><span class="w"> </span><span class="n">Validate</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="mi">0</span><span class="n">a2</span><span class="w"> </span><span class="o">[</span><span class="n">mychannel</span><span class="o">]</span><span class="w"> </span><span class="n">Validated</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="o">[</span><span class="n">3</span><span class="o">]</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mi">0</span><span class="n">ms</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">11</span><span class="w"> </span><span class="mi">14</span><span class="err">:</span><span class="mi">36</span><span class="err">:</span><span class="mf">33.432</span><span class="w"> </span><span class="n">UTC</span><span class="w"> </span><span class="o">[</span><span class="n">kvledger</span><span class="o">]</span><span class="w"> </span><span class="n">CommitWithPvtData</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="mi">0</span><span class="n">a3</span><span class="w"> </span><span class="o">[</span><span class="n">mychannel</span><span class="o">]</span><span class="w"> </span><span class="n">Committed</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="o">[</span><span class="n">3</span><span class="o">]</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">transaction</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mi">109</span><span class="n">ms</span><span class="w"> </span><span class="p">(</span><span class="n">state_validation</span><span class="o">=</span><span class="mi">11</span><span class="n">ms</span><span class="w"> </span><span class="n">block_commit</span><span class="o">=</span><span class="mi">70</span><span class="n">ms</span><span class="w"> </span><span class="n">state_commit</span><span class="o">=</span><span class="mi">11</span><span class="n">ms</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

<p><strong>4.</strong> The other option would be to right click on the <code>readKale</code>
transaction in the <code>Fabric Gateway</code> section. Once you right click on
<code>readKale</code> you can select <code>Evaluate Transaction</code>, which doesn't actually
get recorded as a transaction, but rather as a query. If you select
<code>Submit Transaction</code>, that would be recorded as a transaction. Once it
gives you a prompt, enter the text below. Then hit <code>enter</code> and then
<code>enter</code> again to bypass the transient data prompt and execute the query:</p>
<div class="codehilite"><pre><span></span><code><span class="ss">&quot;001&quot;</span><span class="w"></span>

<span class="k">Output</span><span class="w"> </span><span class="nl">Logs</span><span class="p">:</span><span class="w"></span>
<span class="o">[</span><span class="n">6/11/2019 2:37:11 PM</span><span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="n">submitting</span><span class="w"> </span><span class="k">transaction</span><span class="w"> </span><span class="n">readKale</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">args</span><span class="w"> </span><span class="mi">001</span><span class="w"></span>
<span class="o">[</span><span class="n">6/11/2019 2:37:13 PM</span><span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="n">SUCCESS</span><span class="o">]</span><span class="w"> </span><span class="n">Returned</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="nl">readKale</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="ss">&quot;value&quot;</span><span class="err">:</span><span class="ss">&quot;a bunch of kale&quot;</span><span class="err">}</span><span class="w"></span>
</code></pre></div>

<p><strong>5.</strong> We can also update our Kale by right clicking on the <code>updateKale</code>
transaction and selecting <code>Submit Transaction</code>. You can enter the text
below to update our existing kale. Again, hit <code>enter</code> to go to the next
prompt and then <code>enter</code> again to bypass the transient data prompt and
execute our transaction:</p>
<div class="codehilite"><pre><span></span><code><span class="err">&quot;001&quot;, &quot;a bunch of organic kale&quot;</span>
</code></pre></div>

<p><strong>6.</strong> Now, we can repeat step 4 and execute the <code>readKale</code> transaction.
This time, select <code>Submit Transaction</code> instead of
<code>Evaluate Transaction</code>. Here is what to enter in the prompt:</p>
<div class="codehilite"><pre><span></span><code><span class="ss">&quot;001&quot;</span><span class="w"></span>

<span class="w"> </span><span class="k">Output</span><span class="w"> </span><span class="nl">Logs</span><span class="p">:</span><span class="w"></span>
<span class="o">[</span><span class="n">6/11/2019 2:42:56 PM</span><span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="n">evaluateTransaction</span><span class="w"></span>
<span class="o">[</span><span class="n">6/11/2019 2:43:01 PM</span><span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="n">evaluating</span><span class="w"> </span><span class="k">transaction</span><span class="w"> </span><span class="n">readKale</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">args</span><span class="w"> </span><span class="mi">001</span><span class="w"></span>
<span class="o">[</span><span class="n">6/11/2019 2:43:01 PM</span><span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="n">SUCCESS</span><span class="o">]</span><span class="w"> </span><span class="n">Returned</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="nl">readKale</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="ss">&quot;value&quot;</span><span class="err">:</span><span class="ss">&quot;a bunch of organic kale&quot;</span><span class="err">}</span><span class="w"></span>
</code></pre></div>

<p><strong>7.</strong> Because Barry is on a major health kick and is hungry for some
organic Kale, we can execute the <code>deleteKale</code> transaction after Barry transforms the Kale into its base nutrients fighting for attention along with everything else in his bloodstream. To do this,
right click on the <code>deleteKale</code> transaction and select <code>submit transaction</code> and enter this between the
brackets. Hit <code>enter</code> to go to the next prompt and then <code>enter</code> once
more to actually execute the transaction:</p>
<div class="codehilite"><pre><span></span><code><span class="err">&quot;001&quot;</span>
</code></pre></div>

<p><strong>8.</strong> To confirm that it is actually deleted, you can execute the
<code>readKale</code> transaction once more. Once you do that, you'll get an error
message in the bottom right. Those errors talk about endorsement failure
or no peers are available to be queried, but the real issue is that
there is no kale with an ID of <code>001</code></p>
<h1 id="section-6-tests">Section 6: Tests<a class="headerlink" href="#section-6-tests" title="Permanent link">&para;</a></h1>
<p><strong>1.</strong> VSCode gives us a couple ways to test our smart contract. We will
test them both, but let's focus on unit testing first.</p>
<p><strong>2.</strong> If you go to the <code>Editor</code> perspective, toggle the <code>test</code>
folder. Then right click on the <code>kale-contract.js</code> file and select
<code>Open in terminal</code>.</p>
<p><img alt="image" src="../vscode-images/1-5-2.png" /></p>
<p><strong>3.</strong> Once you get your terminal prompt, enter the text below to test
our smart contract out:</p>
<div class="codehilite"><pre><span></span><code><span class="n">tecadmin</span><span class="nv">@ubuntubase</span><span class="err">:</span><span class="o">~/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Kale</span><span class="o">/</span><span class="n">tests</span><span class="err">$</span><span class="w"> </span><span class="n">npm</span><span class="w"> </span><span class="n">test</span><span class="w"></span>

<span class="k">Output</span><span class="w"> </span><span class="nl">Logs</span><span class="p">:</span><span class="w"></span>
<span class="w"> </span><span class="n">KaleContract</span><span class="w"></span>

<span class="n">#kaleExists</span><span class="w"></span>
<span class="err">✓</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">kale</span><span class="w"></span>
<span class="err">✓</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">kale</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">exist</span><span class="w"></span>
<span class="n">#createKale</span><span class="w"></span>
<span class="err">✓</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">kale</span><span class="w"></span>
<span class="err">✓</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">kale</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="ow">exists</span><span class="w"></span>
<span class="n">#readKale</span><span class="w"></span>
<span class="err">✓</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">kale</span><span class="w"></span>
<span class="err">✓</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">kale</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">exist</span><span class="w"></span>
<span class="n">#updateKale</span><span class="w"></span>
<span class="err">✓</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">kale</span><span class="w"></span>
<span class="err">✓</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">kale</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">exist</span><span class="w"></span>
<span class="n">#deleteKale</span><span class="w"></span>
<span class="err">✓</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">kale</span><span class="w"></span>
<span class="err">✓</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="k">throw</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">kale</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">exist</span><span class="w"></span>

<span class="mi">10</span><span class="w"> </span><span class="n">passing</span><span class="w"> </span><span class="p">(</span><span class="mi">334</span><span class="n">ms</span><span class="p">)</span><span class="w"></span>

<span class="o">===============================</span><span class="w"> </span><span class="n">Coverage</span><span class="w"> </span><span class="n">summary</span><span class="w"> </span><span class="o">===============================</span><span class="w"></span>
<span class="n">Statements</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="mi">100</span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="mi">29</span><span class="o">/</span><span class="mi">29</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="n">Branches</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="mi">100</span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="mi">10</span><span class="o">/</span><span class="mi">10</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="n">Functions</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="mi">100</span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="mi">5</span><span class="o">/</span><span class="mi">5</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="n">Lines</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="mi">100</span><span class="o">%</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="mi">29</span><span class="o">/</span><span class="mi">29</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
</code></pre></div>

<p>You should get all green signs with some check marks. That is a good
sign that transactions should work as they are. Very nice!</p>
<p><strong>4.</strong> Another way we can test is by generating a smart contract test
client. To do that, jump back down to the IBM Blockchain Platform
Extension by clicking on the outline of a block. Once you are there,
<code>right click</code> on your smart contract that is in your <code>Fabric Gateway</code>
section. Then select your only option,
<code>Generate Tests for Smart Contract</code>. Then select <code>JavaScript</code> once it
prompts you for which test language you prefer.</p>
<p><img alt="image" src="../vscode-images/1-5-4.png" /></p>
<p><strong>5.</strong> Then it will install some npm packages for us. You should see
some messaging in the bottom right. Once that is done, scroll down to
<code>line 72</code> in the file that was generated.</p>
<p><strong>6.</strong> On <code>line 74</code>, enter the following within the brackets:</p>
<div class="codehilite"><pre><span></span><code><span class="err">&quot;001&quot;, &quot;a new bunch of kale&quot;</span>
</code></pre></div>

<p><strong>7.</strong> Then save this file by either doing <code>Control + s</code> or by doing
<code>File -&gt; Save</code>. Once you have done that, there should be a button that
says <code>Run Test</code> in between lines 71 and 72. You can click on <code>Run Test</code>
to actually run the test:</p>
<div class="codehilite"><pre><span></span><code><span class="n">Output</span> <span class="nl">Logs</span><span class="p">:</span>
<span class="n">KaleContract</span><span class="o">-</span><span class="n">Kale</span><span class="mf">@0.0.1</span>
<span class="err">✓</span> <span class="n">createKale</span> <span class="p">(</span><span class="mi">2352</span><span class="n">ms</span><span class="p">)</span>

<span class="mi">1</span> <span class="n">passing</span> <span class="p">(</span><span class="mi">3</span><span class="n">s</span><span class="p">)</span>
</code></pre></div>

<p><strong>8.</strong> All the other transactions will work as well, but you will need
to save the file before trying to run the tests. Please try a few of the
tests for yourself.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/ibm-blockchain-wsc/ImmersionWorkshop" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.6a3d08fc.min.js"></script>
      <script src="../assets/javascripts/bundle.71201edf.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>