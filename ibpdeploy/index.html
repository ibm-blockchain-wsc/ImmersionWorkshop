
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.0.2">
    
    
      
        <title>Part 2 - Deploy a Smart Contract - Blockchain Immersion Workshop</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.38780c08.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f72e892.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#build-your-first-network-on-linux-on-ibm-z-lab-part-2-deploying-a-smart-contract" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Blockchain Immersion Workshop" class="md-header-nav__button md-logo" aria-label="Blockchain Immersion Workshop">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Blockchain Immersion Workshop
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Part 2 - Deploy a Smart Contract
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/ibm-blockchain-wsc/ImmersionWorkshop.git" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Blockchain Immersion Workshop" class="md-nav__button md-logo" aria-label="Blockchain Immersion Workshop">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Blockchain Immersion Workshop
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/ibm-blockchain-wsc/ImmersionWorkshop.git" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Choose your own lab
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Choose your own lab" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Choose your own lab
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lab-intro/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../assignment/" class="md-nav__link">
      Skytap image assignments
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Build your first network on Linux on IBM Z Lab
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Build your first network on Linux on IBM Z Lab" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Build your first network on Linux on IBM Z Lab
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../console-urls/" class="md-nav__link">
      IBM Blockchain Platform Console URL assignments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ibpconsole/" class="md-nav__link">
      Part 1 - Create a Blockchain Network
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Part 2 - Deploy a Smart Contract
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Part 2 - Deploy a Smart Contract
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#section-1-download-the-commercial-paper-smart-contract-package" class="md-nav__link">
    Section 1: Download the Commercial Paper Smart Contract package
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-2-install-commercial-paper-contract-to-your-blockchain-network" class="md-nav__link">
    Section 2: Install Commercial Paper Contract to your Blockchain Network
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-3-instantiate-paper-contract" class="md-nav__link">
    Section 3: Instantiate Paper Contract
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-4-register-client-user-for-teamxx-org1" class="md-nav__link">
    Section 4: Register client user for TeamXX Org1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-5-register-client-user-for-teamxx-org2-optional" class="md-nav__link">
    Section 5: Register client user for TeamXX Org2 (Optional)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-6-download-the-connection-profile-to-connect-to-teamxx-org1-peer" class="md-nav__link">
    Section 6: Download the connection profile to connect to TeamXX Org1 Peer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-7-create-a-new-gateway-in-vscode-ibm-blockchain-platform-extension" class="md-nav__link">
    Section 7: Create a new Gateway in VSCode IBM Blockchain Platform Extension
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-8-create-a-new-wallet-and-identity-in-vscode-ibm-blockchain-platform-extension" class="md-nav__link">
    Section 8: Create a new wallet and identity in VSCode IBM Blockchain Platform Extension
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-9-connect-to-the-teamxx-ibp-gateway" class="md-nav__link">
    Section 9: Connect to the teamxx-ibp gateway
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-10-issue-a-transaction-to-test-the-connection" class="md-nav__link">
    Section 10: Issue a transaction to test the connection
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../references/" class="md-nav__link">
      Additional Resources
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#section-1-download-the-commercial-paper-smart-contract-package" class="md-nav__link">
    Section 1: Download the Commercial Paper Smart Contract package
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-2-install-commercial-paper-contract-to-your-blockchain-network" class="md-nav__link">
    Section 2: Install Commercial Paper Contract to your Blockchain Network
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-3-instantiate-paper-contract" class="md-nav__link">
    Section 3: Instantiate Paper Contract
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-4-register-client-user-for-teamxx-org1" class="md-nav__link">
    Section 4: Register client user for TeamXX Org1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-5-register-client-user-for-teamxx-org2-optional" class="md-nav__link">
    Section 5: Register client user for TeamXX Org2 (Optional)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-6-download-the-connection-profile-to-connect-to-teamxx-org1-peer" class="md-nav__link">
    Section 6: Download the connection profile to connect to TeamXX Org1 Peer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-7-create-a-new-gateway-in-vscode-ibm-blockchain-platform-extension" class="md-nav__link">
    Section 7: Create a new Gateway in VSCode IBM Blockchain Platform Extension
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-8-create-a-new-wallet-and-identity-in-vscode-ibm-blockchain-platform-extension" class="md-nav__link">
    Section 8: Create a new wallet and identity in VSCode IBM Blockchain Platform Extension
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-9-connect-to-the-teamxx-ibp-gateway" class="md-nav__link">
    Section 9: Connect to the teamxx-ibp gateway
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-10-issue-a-transaction-to-test-the-connection" class="md-nav__link">
    Section 10: Issue a transaction to test the connection
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="build-your-first-network-on-linux-on-ibm-z-lab-part-2-deploying-a-smart-contract">Build your first network on Linux on IBM Z Lab Part 2 - Deploying a Smart Contract<a class="headerlink" href="#build-your-first-network-on-linux-on-ibm-z-lab-part-2-deploying-a-smart-contract" title="Permanent link">&para;</a></h1>
<p>This lab will walk you through deploying a smart contract called <em>commercial-paper</em> that is supplied as a sample by the Hyperledger Fabric project. This lab assumes that you have successfully completed the <a href="../ibpconsole/">IBM Blockchain Platform v2.5.0 Lab Part 1 - Create a Blockchain Network</a>. If you have not completed part 1, you must do so before continuing with this lab.</p>
<h2 id="section-1-download-the-commercial-paper-smart-contract-package">Section 1: Download the Commercial Paper Smart Contract package<a class="headerlink" href="#section-1-download-the-commercial-paper-smart-contract-package" title="Permanent link">&para;</a></h2>
<p><strong>Step 1.1:</strong> You need to download the .cds package from here: <a href="../files/papercontract%400.0.4.cds">commercial-paper</a>. If you are not prompted for a location in which to save it, then your browser is probably saving it at a default location, which is probably <code>/home/blockchain/Downloads</code>.</p>
<h2 id="section-2-install-commercial-paper-contract-to-your-blockchain-network">Section 2: Install Commercial Paper Contract to your Blockchain Network<a class="headerlink" href="#section-2-install-commercial-paper-contract-to-your-blockchain-network" title="Permanent link">&para;</a></h2>
<p><strong>Step 2.1:</strong> Click on the <em>Smart Contracts</em> icon in the icon palette on the left, and in the <em>Smart contracts</em> panel, click the blue <strong>Install smart contract</strong> button:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy5.png" /></p>
<p><strong>Step 2.2:</strong> In the <em>(Step 1 of 2) Install smart contract</em> side panel, using the blue <strong>Add File</strong> button, upload the <code>papercontract@0.0.4.cds</code> package (from the location <code>/home/blockchain/Downloads</code> or from wherever you saved it), and click the <strong>Next</strong> button. The screenshot that follows shows that the name and version of the smart contract have replaced the <em>Add File</em> button:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy6.png" /></p>
<p><strong>Step 2.3:</strong> Now select both peers (ensure each has a check mark to the right of it) and click the <strong>Install smart contract</strong> button. Note that in this lab we are installing to peers from two separate organizations. In most "real world" situations, the smart contract would be shared with members of the blockchain network, in a private Github repo or through some other means, and each organization would install the smart contract to its own peers through its own console.</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy7.png" /></p>
<p><strong>Step 2.4:</strong> Now, you should see <code>papercontract</code> appear in the <em>Installed smart contracts</em> section of the <em>Smart contracts</em> screen:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy8.png" /></p>
<h2 id="section-3-instantiate-paper-contract">Section 3: Instantiate Paper Contract<a class="headerlink" href="#section-3-instantiate-paper-contract" title="Permanent link">&para;</a></h2>
<p><strong>Step 3.1:</strong> From the <em>Installed smart contracts</em> section of the <em>Smart contracts</em>  panel, select the three dots to the right of <code>papercontract</code> and select <strong>Instantiate</strong>:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy16.png" /></p>
<p><strong>Step 3.2:</strong> In the <em>Instantiate smart contract (Step 1 of 5)</em> sidebar panel, select <strong>team<em>xx</em>-channel1</strong>, where <em>xx</em> is your two-digit team ID, in the <em>Channel</em> field and click the <strong>Next</strong> button:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy11.png" /></p>
<p><strong>Step 3.3:</strong> In the <em>Step 2 of 5</em>  sidebar panel, select both peers in the <em>Members list</em> (ensure that each has a checkmark to the right of it), select <strong>2 out of 2 members need to endorse transactions</strong> from the <em>Policy</em> dropdown list, and then click the <strong>Next</strong> button:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy12.png" /></p>
<p><strong>Step 3.4:</strong> In the <em>Step 3 of 5</em> sidebar panel, select <strong>Team<em>xx</em> Org1 Peer</strong>, where <em>xx</em> is your two-digit team ID, in the <em>Peer</em> field, as the peer to approve proposals for instantiating the smart contract, and click the <strong>Next</strong> button:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy13.png" /></p>
<p><strong>Step 3.5:</strong> In the <em>Step 4 of 5</em> sidebar panel, skip adding a private data collection and just click <strong>Next</strong>:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy14.png" /></p>
<p><strong>Step 3.6:</strong> In the <em>Step 5 of 5</em> sidebar panel, leave the function name blank (it will by default call the <code>init</code> function in the smart contract which is what we want for <code>papercontract</code>) And leave the arguments box blank. Simply click the <strong>Instantiate smart contract</strong> button:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy15.png" /></p>
<p><strong>Step 3.7:</strong> First time instantiation could take a while because the Node.js smart contract is pulling in all the package dependencies from the public NPM registry. After a few minutes, instantiation should complete. If you scroll down on the <em>Smart Contracts</em> panel, you will see the list of <em>Instantiated Smart Contracts</em> now includes <code>papercontract</code>:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy17.png" /></p>
<div class="admonition note">
<p class="admonition-title">Read this if your instantiation failed<p>If you receive a message indicating that an error occurred during instantiation, click the <em>Show error details</em> link. If it states that the grpc web client timed out the proposal after five minutes, simply click the <strong>Instantiate smart contract</strong> button again. There is a hard-coded timeout of five minutes, and sometimes in our lab system it takes just over five minutes to build the Docker image for the smart contract.  Even if this timeout occurs, the Docker image does get built, so that if you try it again, the Docker image already exists, and you will most likely succeed on this second attempt in much less than five minutes.  </p>
</p>
</div>
<p>Now that you have the smart contract instantiated on the channel, you are ready to move on to the next step.</p>
<h2 id="section-4-register-client-user-for-teamxx-org1">Section 4: Register client user for TeamXX Org1<a class="headerlink" href="#section-4-register-client-user-for-teamxx-org1" title="Permanent link">&para;</a></h2>
<p>Now you need to register a client user to use to enroll application identities for Org1. In real life, as the blockchain network administrator for your organization, you might want to register a distinct client user for each business application that has a need to access the smart contract. In this case, the same client user is used to enroll a number of application identities. Another development pattern is to register a distinct client user for each distinct application identity. You can register a client user through the Fabric application SDK as well, though that is not covered in this lab.</p>
<p><strong>Step 4.1:</strong> Go to the <em>Nodes</em> view on your IBM Blockchain Platform Console, and navigate to the <em>Certificate Authorities</em> section. Then select <strong>Team<em>xx</em> Org1 CA</strong>, where <em>xx</em> is your two-digit team ID:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy18.png" /></p>
<p><strong>Step 4.2:</strong> Select the <strong>Register user</strong> button:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy19.png" /></p>
<p><strong>Step 4.3:</strong> In the <em>Register User (Step 1 of 2)</em> sidebar panel, fill in the fields as directed by the table below, and then click the <strong>Next</strong> button:</p>
<table>
<thead>
<tr>
<th>Field label</th>
<th>Value</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td>Enroll ID</td>
<td><strong>app-dev</strong></td>
<td></td>
</tr>
<tr>
<td>Enroll secret</td>
<td><strong>app-devpw</strong></td>
<td>click the "eye" icon to see the password</td>
</tr>
<tr>
<td>Type</td>
<td><strong>client</strong></td>
<td>This will be populated for you</td>
</tr>
</tbody>
</table>
<p><strong>Step 4.4:</strong> In the <em>Register User (Step 2 of 2)</em> sidebar panel, just click the <strong>Register user</strong> button.</p>
<p><strong>Step 4.5:</strong> Now you should see the <code>app-dev</code> user you added show up under <em>Registered users</em>:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy22.png" /></p>
<h2 id="section-5-register-client-user-for-teamxx-org2-optional">Section 5: Register client user for TeamXX Org2 (Optional)<a class="headerlink" href="#section-5-register-client-user-for-teamxx-org2-optional" title="Permanent link">&para;</a></h2>
<p>Now we will register a client user for enrolling application identities for Org2. This section is optional. In the sections that follow, you will only connect directly to Org1's peer. You will only need to register a client user for Org2 if you wish to connect to go above and beyond the steps in this lab and try connecting directly to Org2's peer.</p>
<p><strong>Step 5.1:</strong> Go to the <em>Nodes</em> view on your IBM Blockchain Platform Console, and navigate to the <em>Certificate Authorities</em> section. Then select <strong>Team<em>xx</em> Org2 CA</strong>, where <em>xx</em> is your two-digit team ID.</p>
<p><strong>Step 5.2.</strong> Follow the same steps from <em>Section 4, Steps 4.2-4.5</em> in order to register a client user, also named <em>app-dev</em>, for Org2.</p>
<h2 id="section-6-download-the-connection-profile-to-connect-to-teamxx-org1-peer">Section 6: Download the connection profile to connect to TeamXX Org1 Peer<a class="headerlink" href="#section-6-download-the-connection-profile-to-connect-to-teamxx-org1-peer" title="Permanent link">&para;</a></h2>
<p>The connection profile is a JSON file that describes all the connection endpoints, MSP information, channel information and certificate information required to connect to your organization's peer. A client application wishing to invoke transactions against a smart contract would require this file to obtain the necessary information needed to make that connection. Without IBM Blockchain Platform, this is a file you would put together yourself using existing sample connection profiles available in the Hyperledger Fabric community. With the IBM Blockchain Platform, you can download a ready-made file from the IBM Blockchain Platform Console.</p>
<p><strong>Step 6.1:</strong> Select the <strong>Organizations</strong> icon from the icon palette on the left, then click the <strong>Team<em>xx</em> Org1 MSP</strong> tile, where <em>xx</em> is your two-digit team ID:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy27.png" /></p>
<p><strong>Step 6.2:</strong> Click the blue <strong>Create connection profile</strong> button:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy275.png" /></p>
<p><strong>Step 6.3.</strong> In the <em>Create connection profile</em> sidebar panel, select your <strong>Team<em>xx</em> Org1 Peer</strong>, where <em>xx</em> is your two-digit team ID, and click the blue <strong>Download connection profile</strong> button:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy278.png" /></p>
<p>Use the file save dialog to save the profile under its default name of <code>teamxxorg1msp_profile.json</code> (where <em>xx</em> is your two-digit team ID). Keep track of where you saved this profile, as you will be using it in the next section.</p>
<h2 id="section-7-create-a-new-gateway-in-vscode-ibm-blockchain-platform-extension">Section 7: Create a new Gateway in VSCode IBM Blockchain Platform Extension<a class="headerlink" href="#section-7-create-a-new-gateway-in-vscode-ibm-blockchain-platform-extension" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You will be using the IBM Blockchain Platform VSCode extension for the next few sections but leave your Firefox browser tab for the IBM Blockchain Platform Console open (you can minimize your browser window if you'd like) as you will be going back to it in the latter half of <em>Section 10</em>.</p>
</div>
<p>Now you can use that connection profile you just downloaded to create a new gateway in VSCode IBM Blockchain Platform Extension.</p>
<p><strong>Step 7.1:</strong> In the VSCode IBM Blockchain Platform view, click on the <code>+</code> in the <code>Fabric Gateways</code> panel (if you are still connected to your local gateway you will need to disconnect from this gateway first. You can do so by clicking on the door icon where the <code>+</code> should be):</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy28.png" /></p>
<p><strong>Step 7.2:</strong> Then in the popup window at the top of VSCode, select <strong>Create a gateway from a connection profile</strong>:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy29.png" /></p>
<p><strong>Step 7.3:</strong> Next you will be asked to enter the name of the gateway. Type <strong>team<em>xx</em>-ibp</strong>, remembering to replace <em>xx</em> with your team number, and press <strong>Enter</strong>.</p>
<p><strong>Step 7.4:</strong> Finally, you will be asked to browse to the connection profile that you downloaded from <em>Section 6</em>. Browse to it, and click <strong>Select</strong>.</p>
<p><strong>Step 7.5:</strong> Upon success, you will see <em>team</em><em>xx</em><em>-ibp</em>, where <em>xx</em> is your two-digit team ID, show up in the <em>Fabric Gateways</em> panel as follows:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy_gateway.png" /></p>
<h2 id="section-8-create-a-new-wallet-and-identity-in-vscode-ibm-blockchain-platform-extension">Section 8: Create a new wallet and identity in VSCode IBM Blockchain Platform Extension<a class="headerlink" href="#section-8-create-a-new-wallet-and-identity-in-vscode-ibm-blockchain-platform-extension" title="Permanent link">&para;</a></h2>
<p><strong>Step 8.1:</strong> In the VSCode IBM Blockchain Platform view, click on the <code>+</code> in the <code>Fabric Wallets</code> panel:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy30.png" /></p>
<p><strong>Step 8.2.</strong> Select <strong>create a new wallet and add an identity</strong> in the popup window:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy31.png" /></p>
<p><strong>Step 8.3:</strong> Type <strong>team<em>xx</em>-wallet</strong> in the next popup window, where <em>xx</em> is your two-digit team ID, and press <strong>Enter</strong>:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy32.png" /></p>
<p><strong>Step 8.4:</strong> Type <strong>team<em>xx</em>org1msp</strong> as the MSPID, where <em>xx</em> is your two-digit team ID, and press <strong>Enter</strong>:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy34.png" /></p>
<p><strong>Step 8.5:</strong> Pick <strong>Select a gateway and provide an enrollment ID and secret</strong>:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy36.png" /></p>
<p><strong>Step 8.6:</strong> Type <strong>isabella</strong> as the name for the identity, and press <strong>Enter</strong>:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy33.png" /></p>
<p><strong>Step 8.7:</strong> Choose <strong>team<em>xx</em>-ibp</strong> as the gateway you want to enroll and identity with, where <em>xx</em> is your two-digit team ID:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy37.png" /></p>
<p><strong>Step 8.8:</strong> Type <strong>app-dev</strong> as the enrollment ID and press <strong>Enter</strong>:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy35.png" /></p>
<p><strong>Step 8.9:</strong> Type <strong>app-devpw</strong> as the enrollment secret and press <strong>Enter</strong>:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy38.png" /></p>
<p><strong>Step 8.10:</strong> Upon success you will see the new wallet and identity in the <em>Fabric Wallets</em> panel:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy39.png" /></p>
<h2 id="section-9-connect-to-the-teamxx-ibp-gateway">Section 9: Connect to the teamxx-ibp gateway<a class="headerlink" href="#section-9-connect-to-the-teamxx-ibp-gateway" title="Permanent link">&para;</a></h2>
<p>Now that you have created a wallet and enrolled an ID and password, you are ready to connect to the <em>teamxx-ibp</em> gateway.</p>
<p><strong>Step 9.1:</strong> Click on <strong>team<em>xx</em>-ibp</strong>, in the <em>Fabric Gateways</em> panel, where <em>xx</em> is your two-digit team ID:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy40.png" /></p>
<p><strong>Step 9.2:</strong> In the popup window, select <strong>team<em>xx</em>-wallet</strong>, where <em>xx</em> is your two-digit team ID:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy41.png" /></p>
<p><strong>Step 9.3:</strong> Upon success, you will also see your new gateway represented in the <em>Fabric Gateways</em> panel. Expand the twisties until you see your <code>papercontract</code> transactions:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy42.png" /></p>
<h2 id="section-10-issue-a-transaction-to-test-the-connection">Section 10: Issue a transaction to test the connection<a class="headerlink" href="#section-10-issue-a-transaction-to-test-the-connection" title="Permanent link">&para;</a></h2>
<p>Now we are ready to submit a test transaction.</p>
<p><strong>Step 10.1:</strong> From the <em>Fabric Gateways</em> panel, expand into the <code>papercontract@0.0.4</code> contract, right-click on the <strong>issue</strong> transaction and select <strong>Submit Transaction</strong>:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy43.png" /></p>
<p><strong>Step 10.2:</strong> Copy and paste the following inside the brackets as the argument, and then press <strong>Enter</strong>:</p>
<div class="highlight"><pre><span></span><code>&quot;MagnetoCorp&quot;,&quot;00002&quot;,&quot;2020-07-31&quot;,&quot;2020-12-31&quot;,&quot;6000000&quot;
</code></pre></div>
<p>Example:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy44.png" /></p>
<p><strong>Step 10.3:</strong> Press <strong>Enter</strong> on the transient data popup window.</p>
<div class="admonition note">
<p class="admonition-title">Read this if your transaction timed out<p>This step may take several minutes. When you <em>instantiated</em> the smart contract in <em>Section 3</em>, it built a Docker image for the smart contract on only one peer, the peer on which you chose to run the instantiate proposal (see <em>Step 3.4</em>).  The Docker image for the other peer will be built on first use, and this transaction may time out. If it does, simply run steps <em>10.1</em> through <em>10.3</em> again, and it should succeed this time.</p>
</p>
</div>
<p><strong>Step 10.4:</strong> Upon success you will see the results from the issue transaction in the <em>OUTPUT</em> panel in VSCode, similar to what is shown here:</p>
<div class="highlight"><pre><span></span><code>[4/15/2020 4:49:08 PM] [INFO] submitTransaction
[4/15/2020 4:49:15 PM] [INFO] submitting transaction issue with args MagnetoCorp,00002,2020-07-31,2020-12-31,6000000 on channel teamxx-channel1
[4/15/2020 4:49:26 PM] [SUCCESS] Returned value from issue: {&quot;class&quot;:&quot;org.papernet.commercialpaper&quot;,&quot;key&quot;:&quot;\&quot;MagnetoCorp\&quot;:\&quot;00002\&quot;&quot;,&quot;currentState&quot;:1,&quot;issuer&quot;:&quot;MagnetoCorp&quot;,&quot;paperNumber&quot;:&quot;00002&quot;,&quot;issueDateTime&quot;:&quot;2020-07-31&quot;,&quot;maturityDateTime&quot;:&quot;2020-12-31&quot;,&quot;faceValue&quot;:&quot;6000000&quot;,&quot;owner&quot;:&quot;MagnetoCorp&quot;}
</code></pre></div>
<p><strong>Step 10.5:</strong> Now, return to the IBM Blockchain Platform Console at your assigned URL in Firefox. Go to the <em>Channels</em> view, and click on the <strong>team<em>xx</em>-channel1</strong> tile, where <em>xx</em> is your two-digit team ID:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy45.png" /></p>
<p><strong>Step 10.6:</strong> You should see that the block height is now 6. In the <em>Block History</em> section, click on the block at the top of the table:</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy46.png" /></p>
<p><strong>Step 10.7:</strong> Now you will see a list of transactions in block #5. Click on the topmost transaction (there should only be one):</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy47.png" /></p>
<p><strong>Step 10.8:</strong> In the <em>Transaction</em> sidebar panel you should see the <em>issue</em> transaction and its input arguments in the <em>Input</em> section, and the output of the transaction in the <em>Output</em> section, from the transaction that you just submitted via the VSCode IBM Blockchain Platform Extension.</p>
<p><img alt="image" src="../images/ibpdeploy/ibpdeploy48.png" /></p>
<p><strong>Step 10.9:</strong> OPTIONAL: you can submit additional transactions through VSCode, and watch the block height increase and look at the transaction in the IBM Blockchain Platform Console.</p>
<p>Congratulations!! You've now successfully enrolled an application identity and used it to invoke transactions against a smart contract deployed to IBM Blockchain Platform v2.5.0!</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../ibpconsole/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Part 1 - Create a Blockchain Network
              </div>
            </div>
          </a>
        
        
          <a href="../references/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Additional Resources
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.77e55a48.min.js"></script>
      <script src="../assets/javascripts/bundle.9554a270.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>